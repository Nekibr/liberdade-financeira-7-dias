<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-book e Ferramenta: Planejamento Financeiro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony -->
    <!-- Application Structure Plan: The document is structured into two main parts: the e-book content and the interactive tool. The e-book content acts as a comprehensive introduction and theoretical foundation, leading to a call-to-action button. Clicking this button smoothly scrolls the user to the interactive tool section within the same page. The interactive tool itself follows a task-oriented layout with tabbed navigation for budgeting, debt planning, and goal setting, enhancing user engagement and practical application of the e-book's concepts. Data persistence via localStorage is implemented to save user inputs (income, expenses, debts, goals) and active tab, ensuring data remains on refresh/revisit. This single-page structure provides a seamless user experience, avoiding external redirects and keeping all resources self-contained for easy distribution. -->
    <!-- Visualization & Content Choices: 
        - E-book Content: Goal: Inform/Explain. Method: Markdown converted to standard HTML paragraphs, headings, and lists. Interaction: Passive reading. Justification: Provides foundational knowledge clearly and comprehensively.
        - Interactive Tool - Budgeting: Goal: Inform/Compare. Method: Donut chart (Chart.js) for expense distribution, dynamically updated input fields, and HTML bars for 50/30/20 rule comparison. Interaction: Real-time calculation and chart update on user input, persistence of data via localStorage. Justification: Offers immediate visual feedback on spending habits, making abstract numbers tangible, with user data retention.
        - Interactive Tool - Debt Plan: Goal: Organize/Prioritize. Method: Interactive list of debts with toggle buttons ('Snowball' vs 'Avalanche' methods). Interaction: List re-sorts debts based on selected strategy, persistence of data via localStorage. Justification: Helps users visualize and prioritize debt repayment strategies effectively, with user data retention.
        - Interactive Tool - Goals/Savings: Goal: Inform/Organize. Method: Simple calculators (emergency fund) and goal list. Interaction: Input-based calculation for emergency fund, adding/removing goals, persistence of data via localStorage. Justification: Simplifies financial goal setting and initial investment understanding, with user data retention.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Inter', sans-serif; }
        .nav-button { transition: all 0.3s ease; }
        .nav-button.active { background-color: #10B981; color: white; }
        .nav-button:not(.active):hover { background-color: #D1FAE5; }
        .content-section { display: none; }
        .content-section.active { display: block; }
        .chart-container { position: relative; width: 100%; max-width: 400px; margin-left: auto; margin-right: auto; height: 300px; max-height: 350px; }
        @media (min-width: 768px) { .chart-container { height: 350px; } }
        .debt-item:not(:last-child) { border-bottom: 1px solid #e5e7eb; }
    </style>
</head>
<body class="bg-stone-50 text-slate-800 leading-relaxed">

    <div class="container mx-auto p-4 md:p-8 max-w-4xl">
        <!-- Se√ß√£o de Conte√∫do do E-book -->
        <section id="ebook-content" class="bg-white p-6 rounded-2xl shadow-lg mb-12">
            <h1 class="text-3xl md:text-4xl font-bold text-emerald-600 mb-6 text-center">Planejamento Financeiro para Iniciantes: Organize Suas Finan√ßas em 7 Dias</h1>

            <h2 class="text-2xl font-bold mb-4 text-emerald-600">Introdu√ß√£o: Diga Adeus √† Preocupa√ß√£o com Dinheiro!</h2>
            <p class="mb-4 text-slate-700">Voc√™ se sente perdido quando o assunto √© dinheiro? O sal√°rio mal entra e j√° parece desaparecer? As d√≠vidas te tiram o sono? Se a resposta for sim para alguma dessas perguntas, este e-book foi feito para voc√™!</p>
            <p class="mb-4 text-slate-700">Muitas pessoas pensam que organizar as finan√ßas √© um bicho de sete cabe√ßas, algo para "experts" ou para quem ganha muito dinheiro. A verdade √© que o planejamento financeiro √© para todos e, com as ferramentas certas e um pouco de disciplina, voc√™ pode transformar sua rela√ß√£o com o dinheiro em apenas 7 dias.</p>
            <p class="mb-4 text-slate-700">Este guia pr√°tico e direto ao ponto vai te mostrar, passo a passo, como tomar o controle da sua vida financeira. N√£o importa o quanto voc√™ ganha ou o tamanho das suas d√≠vidas; o que importa √© o primeiro passo que voc√™ dar√° hoje.</p>
            <p class="mb-6 text-slate-700">Vamos come√ßar essa jornada rumo √† tranquilidade e √† liberdade financeira!</p>

            <h2 class="text-2xl font-bold mb-4 text-emerald-600">Cap√≠tulo 1: Onde Seu Dinheiro Vai? Entendendo Seus Gastos</h2>
            <p class="mb-4 text-slate-700">O primeiro passo para qualquer planejamento financeiro √© simples, mas crucial: <strong>saber para onde seu dinheiro est√° indo.</strong> Parece √≥bvio, mas a maioria das pessoas n√£o tem essa clareza e se surpreende ao descobrir gastos que nem imaginava ter.</p>

            <h3 class="text-xl font-bold mb-2">Por que saber para onde o dinheiro vai?</h3>
            <p class="mb-3 text-slate-700">√â como tentar dirigir um carro de olhos fechados. Voc√™ pode estar indo em frente, mas n√£o sabe para onde nem se est√° no caminho certo. Ao registrar seus gastos, voc√™:</p>
            <ul class="list-disc list-inside mb-4 text-slate-700">
                <li>Identifica vazamentos (gastos desnecess√°rios).</li>
                <li>Entende seus h√°bitos de consumo.</li>
                <li>Consegue tomar decis√µes mais conscientes.</li>
                <li>Percebe onde pode economizar.</li>
            </ul>

            <h3 class="text-xl font-bold mb-2">Como registrar seus gastos?</h3>
            <p class="mb-3 text-slate-700">N√£o precisa ser complicado! Escolha o m√©todo que melhor se adapta a voc√™ e comece hoje mesmo:</p>
            <ol class="list-decimal list-inside mb-4 text-slate-700">
                <li class="mb-2"><strong>Aplicativos de Finan√ßas:</strong> Existem diversos apps gratuitos e pagos que se conectam √† sua conta banc√°ria e categorizam seus gastos automaticamente.
                    <ul class="list-disc list-inside ml-5 mt-1 text-slate-600">
                        <li><strong>Vantagens:</strong> Praticidade, relat√≥rios visuais.</li>
                        <li><strong>Desvantagens:</strong> Exige confian√ßa em vincular sua conta (opcional).</li>
                    </ul>
                </li>
                <li class="mb-2"><strong>Planilhas (Excel ou Google Sheets):</strong> Voc√™ pode criar sua pr√≥pria planilha simples ou usar modelos prontos.
                    <ul class="list-disc list-inside ml-5 mt-1 text-slate-600">
                        <li><strong>Vantagens:</strong> Flexibilidade, controle manual.</li>
                        <li><strong>Desvantagens:</strong> Exige disciplina para registrar tudo.</li>
                    </ul>
                </li>
                <li class="mb-2"><strong>Caderninho/Di√°rio de Gastos:</strong> A moda antiga, mas muito eficaz! Anote cada gasto, por menor que seja.
                    <ul class="list-disc list-inside ml-5 mt-1 text-slate-600">
                        <li><strong>Vantagens:</strong> Simplicidade, n√£o exige tecnologia.</li>
                        <li><strong>Desvantagens:</strong> Pode ser menos pr√°tico para analisar grandes volumes de dados.</li>
                    </ul>
                </li>
            </ol>
            <p class="font-bold bg-amber-50 p-3 rounded-lg mt-4 mb-6 text-slate-700"><strong>Dica de Ouro:</strong> Experimente por 7 dias. Anote <em>tudo</em>, do cafezinho ao aluguel. N√£o julgue, apenas registre. Ao final do per√≠odo, voc√™ ter√° um raio-x real da sua vida financeira.</p>

            <h3 class="text-xl font-bold mb-2">Categorias de Gastos: Onde o Dinheiro Se Esconde?</h3>
            <p class="mb-3 text-slate-700">Para facilitar a an√°lise, categorize seus gastos:</p>
            <ul class="list-disc list-inside mb-6 text-slate-700">
                <li><strong>Essenciais (Necessidades):</strong> Aluguel/Hipoteca, contas de √°gua, luz, g√°s, internet, alimenta√ß√£o b√°sica, transporte, educa√ß√£o, sa√∫de. S√£o gastos que voc√™ n√£o consegue viver sem.</li>
                <li><strong>Vari√°veis (Desejos/Sup√©rfluos):</strong> Lazer (cinema, restaurantes), roupas novas, delivery frequente, assinaturas de streaming que n√£o usa, viagens, hobbies. S√£o gastos que trazem prazer, mas podem ser ajustados.</li>
                <li><strong>D√≠vidas:</strong> Parcelas de empr√©stimos, cart√£o de cr√©dito, financiamentos, etc.</li>
            </ul>
            <p class="mb-6 text-slate-700">Ao categorizar, voc√™ ver√° claramente onde pode cortar ou reduzir sem comprometer seu bem-estar b√°sico.</p>

            <h2 class="text-2xl font-bold mb-4 text-emerald-600">Cap√≠tulo 2: Criando Seu Or√ßamento: O Mapa para a Liberdade Financeira</h2>
            <p class="mb-4 text-slate-700">Agora que voc√™ sabe para onde seu dinheiro est√° indo, √© hora de criar um <strong>or√ßamento</strong>. O or√ßamento √© o seu mapa financeiro, ele te diz o que voc√™ pode gastar e onde, para que seus objetivos sejam alcan√ßados.</p>

            <h3 class="text-xl font-bold mb-2">Definindo Receita e Despesas</h3>
            <p class="mb-3 text-slate-700">Um or√ßamento b√°sico tem duas partes principais:</p>
            <ol class="list-decimal list-inside mb-4 text-slate-700">
                <li class="mb-2"><strong>Receita (Tudo que Entra):</strong> Seu sal√°rio l√≠quido, rendas extras (freelances, b√¥nus), pens√µes, alugu√©is recebidos, etc.</li>
                <li class="mb-2"><strong>Despesas (Tudo que Sai):</strong> Os gastos que voc√™ identificou no Cap√≠tulo 1.</li>
            </ol>
            <p class="mb-6 text-slate-700"><strong>Seu objetivo:</strong> Fazer com que a Receita seja <strong>MAIOR</strong> que as Despesas. Se suas despesas s√£o maiores, voc√™ est√° se endividando. Se s√£o iguais, voc√™ est√° "empatando". O ideal √© que sobre dinheiro para poupar e investir.</p>

            <h3 class="text-xl font-bold mb-2">M√©todos de Or√ßamento Simples</h3>
            <p class="mb-3 text-slate-700">Existem v√°rias formas de montar seu or√ßamento. Escolha a que parece mais f√°cil para voc√™:</p>
            <ol class="list-decimal list-inside mb-6 text-slate-700">
                <li class="mb-2"><strong>Regra 50/30/20:</strong>
                    <ul class="list-disc list-inside ml-5 mt-1 text-slate-600">
                        <li><strong>50% da sua renda:</strong> para <strong>Necessidades</strong> (aluguel, contas, alimenta√ß√£o b√°sica).</li>
                        <li><strong>30% da sua renda:</strong> para <strong>Desejos</strong> (lazer, hobbies, compras n√£o essenciais).</li>
                        <li><strong>20% da sua renda:</strong> para <strong>Poupan√ßa e Quita√ß√£o de D√≠vidas</strong>.</li>
                        <li><strong>Vantagem:</strong> F√°cil de entender e aplicar.</li>
                        <li><strong>Desvantagem:</strong> Pode n√£o ser ideal para quem tem muitas d√≠vidas ou uma renda muito baixa.</li>
                    </ul>
                </li>
                <li class="mb-2"><strong>Or√ßamento Base Zero:</strong>
                    <p class="ml-5 mt-1 text-slate-600">A ideia √© que cada centavo da sua renda tenha um "trabalho". No final do m√™s, sua renda menos suas despesas deve ser igual a zero. Isso n√£o significa que voc√™ gasta tudo, mas sim que voc√™ aloca cada centavo para uma categoria espec√≠fica (gastos, poupan√ßa, investimentos, d√≠vidas).</p>
                    <ul class="list-disc list-inside ml-5 mt-1 text-slate-600">
                        <li><strong>Vantagem:</strong> Total controle e clareza sobre o destino de cada real.</li>
                        <li><strong>Desvantagem:</strong> Exige mais disciplina e detalhamento inicial.</li>
                    </ul>
                </li>
                <li class="mb-2"><strong>M√©todo dos Envelopes (F√≠sico ou Digital):</strong>
                    <p class="ml-5 mt-1 text-slate-600">Separe o dinheiro em "envelopes" para cada categoria (ex: um envelope para "Alimenta√ß√£o", outro para "Lazer"). Quando o dinheiro de um envelope acaba, voc√™ n√£o gasta mais naquela categoria at√© o pr√≥ximo per√≠odo. Pode ser feito com dinheiro f√≠sico ou usando apps e contas digitais que permitem criar "cofrinhos" ou "objetivos".</p>
                    <ul class="list-disc list-inside ml-5 mt-1 text-slate-600">
                        <li><strong>Vantagem:</strong> Visual e tang√≠vel, ajuda a limitar gastos.</li>
                        <li><strong>Desvantagem:</strong> Mais trabalhoso para grandes or√ßamentos ou quem usa muito cart√£o.</li>
                    </ul>
                </li>
            </ol>
            <p class="mb-6 text-slate-700"><strong>Como adaptar √† sua realidade:</strong></p>
            <ul class="list-disc list-inside mb-6 text-slate-700">
                <li>Comece simples. N√£o tente ser perfeito no primeiro m√™s.</li>
                <li>Seja realista. Se voc√™ adora um cafezinho, n√£o corte totalmente; apenas defina um limite.</li>
                <li>Acompanhe. O or√ßamento n√£o √© uma meta fixa, √© um guia. Revise-o semanalmente ou quinzenalmente para ver se est√° funcionando.</li>
            </ul>

            <h2 class="text-2xl font-bold mb-4 text-emerald-600">Cap√≠tulo 3: D√≠vidas: Como se Livrar Delas e Nunca Mais V√™-las</h2>
            <p class="mb-4 text-slate-700">As d√≠vidas s√£o como √¢ncoras que te impedem de avan√ßar. Livrar-se delas √© um dos maiores al√≠vios que voc√™ pode ter e um passo fundamental para construir sua liberdade financeira.</p>

            <h3 class="text-xl font-bold mb-2">Identificando os Tipos de D√≠vidas</h3>
            <p class="mb-3 text-slate-700">Nem toda d√≠vida √© igual. Algumas s√£o "boas" (como um financiamento de um im√≥vel que valoriza), mas a maioria das d√≠vidas pessoais s√£o "ruins" e crescem rapidamente devido aos juros.</p>
            <ul class="list-disc list-inside mb-4 text-slate-700">
                <li><strong>D√≠vidas de Juros Altos (Inimigas!):</strong> Cart√£o de cr√©dito (rotativo), cheque especial, empr√©stimos pessoais sem garantia. S√£o as mais perigosas e que voc√™ deve focar em quitar primeiro.</li>
                <li><strong>D√≠vidas de Juros M√©dios:</strong> Financiamentos de carros, empr√©stimos consignados.</li>
                <li><strong>D√≠vidas de Juros Baixos:</strong> Financiamento imobili√°rio (geralmente os juros s√£o menores).</li>
            </ul>

            <h3 class="text-xl font-bold mb-2">Estrat√©gias para Quitar D√≠vidas</h3>
            <p class="mb-3 text-slate-700">Escolha uma destas estrat√©gias e foque nela:</p>
            <ol class="list-decimal list-inside mb-6 text-slate-700">
                <li class="mb-2"><strong>M√©todo Bola de Neve:</strong>
                    <ul class="list-disc list-inside ml-5 mt-1 text-slate-600">
                        <li>Liste suas d√≠vidas da menor para a maior (ignorando os juros).</li>
                        <li>Pague o m√≠nimo em todas as d√≠vidas, exceto na menor.</li>
                        <li>Na menor d√≠vida, pague o m√°ximo que puder.</li>
                        <li>Quando a menor for quitada, use o valor que voc√™ pagava nela para atacar a pr√≥xima menor, e assim por diante.</li>
                        <li><strong>Vantagem:</strong> Traz motiva√ß√£o rapidamente ao ver as d√≠vidas menores sendo eliminadas.</li>
                        <li><strong>Desvantagem:</strong> Pode n√£o ser o mais r√°pido financeiramente (devido aos juros).</li>
                    </ul>
                </li>
                <li class="mb-2"><strong>M√©todo Avalancha:</strong>
                    <ul class="list-disc list-inside ml-5 mt-1 text-slate-600">
                        <li>Liste suas d√≠vidas da maior taxa de juros para a menor.</li>
                        <li>Pague o m√≠nimo em todas as d√≠vidas, exceto na que tem os juros mais altos.</li>
                        <li>Na d√≠vida com juros mais altos, pague o m√°ximo que puder.</li>
                        <li>Quando essa for quitada, use o valor que voc√™ pagava nela para atacar a pr√≥xima com juros mais altos.</li>
                        <li><strong>Vantagem:</strong> √â a estrat√©gia mais r√°pida e economicamente vantajosa, pois voc√™ paga menos juros no total.</li>
                        <li><strong>Desvantagem:</strong> Pode demorar mais para ver uma d√≠vida sendo totalmente quitada se a de juros mais altos for grande.</li>
                    </ul>
                </li>
            </ol>

            <h3 class="text-xl font-bold mb-2">Negocia√ß√£o com Credores</h3>
            <p class="mb-3 text-slate-700">N√£o tenha medo de negociar! Muitos credores est√£o dispostos a conversar para receber o que lhes √© devido.</p>
            <ul class="list-disc list-inside mb-4 text-slate-700">
                <li><strong>Prepare-se:</strong> Saiba exatamente quanto voc√™ deve e quanto pode pagar por m√™s.</li>
                <li><strong>Entre em contato:</strong> Ligue para o banco ou a empresa.</li>
                <li><strong>Proponha um acordo:</strong> Pe√ßa descontos nos juros, parcelamentos menores, ou at√© um valor para quitar √† vista com bom desconto.</li>
                <li><strong>Cuidado com promessas milagrosas:</strong> Sempre desconfie de "solu√ß√µes" que parecem f√°ceis demais ou que pedem dinheiro adiantado.</li>
            </ul>
            <p class="mb-6 text-slate-700"><strong>Lembre-se:</strong> A disciplina √© sua melhor amiga na luta contra as d√≠vidas. Celebre cada d√≠vida quitada!</p>

            <h2 class="text-2xl font-bold mb-4 text-emerald-600">Cap√≠tulo 4: Poupar e Investir: O Segredo para o Futuro</h2>
            <p class="mb-4 text-slate-700">Parab√©ns! Se voc√™ chegou at√© aqui, j√° est√° no caminho certo para organizar suas finan√ßas. Agora, vamos falar sobre o futuro: como fazer seu dinheiro trabalhar para voc√™, atrav√©s da poupan√ßa e dos investimentos.</p>

            <h3 class="text-xl font-bold mb-2">A Import√¢ncia da Reserva de Emerg√™ncia</h3>
            <p class="mb-3 text-slate-700">Antes de pensar em grandes investimentos, a sua <strong>Reserva de Emerg√™ncia</strong> √© prioridade m√°xima. Ela √© um valor que deve cobrir seus gastos essenciais por 3 a 12 meses, guardado em um lugar seguro e de f√°cil acesso (como uma poupan√ßa ou CDB de liquidez di√°ria).</p>
            <ul class="list-disc list-inside mb-4 text-slate-700">
                <li><strong>Para que serve:</strong> Desemprego, doen√ßas inesperadas, consertos urgentes no carro ou casa.</li>
                <li><strong>Onde guardar:</strong> Em lugares que voc√™ possa resgatar rapidamente e que n√£o percam valor (infla√ß√£o).</li>
            </ul>

            <h3 class="text-xl font-bold mb-2">Primeiros Passos para Poupar</h3>
            <p class="mb-3 text-slate-700">Poupar n√£o √© o que sobra, √© o que voc√™ guarda <strong>primeiro</strong>.</p>
            <ol class="list-decimal list-inside mb-6 text-slate-700">
                <li class="mb-2"><strong>Pague-se Primeiro:</strong> Assim que receber seu sal√°rio, separe uma parte para sua poupan√ßa/investimentos, antes de pagar qualquer outra conta ou desejo.</li>
                <li class="mb-2"><strong>Defina Metas de Poupan√ßa:</strong> "Vou guardar R$100 este m√™s para a reserva de emerg√™ncia." Metas espec√≠ficas ajudam a manter o foco.</li>
                <li class="mb-2"><strong>Automatize:</strong> Programe transfer√™ncias autom√°ticas do seu banco para sua conta de poupan√ßa/investimentos no dia do seu pagamento. Voc√™ nem vai sentir!</li>
                <li class="mb-2"><strong>Corte o Desnecess√°rio:</strong> Use seu or√ßamento (Cap√≠tulo 2) para identificar onde cortar gastos para liberar dinheiro para a poupan√ßa.</li>
            </ol>

            <h3 class="text-xl font-bold mb-2">Introdu√ß√£o aos Investimentos (Para Iniciantes)</h3>
            <p class="mb-3 text-slate-700">Investir √© fazer seu dinheiro render mais do que a poupan√ßa tradicional. Para quem est√° come√ßando, a palavra-chave √© <strong>seguran√ßa e liquidez</strong>.</p>
            <ul class="list-disc list-inside mb-4 text-slate-700">
                <li><strong>Renda Fixa:</strong> √â o ponto de partida mais seguro para iniciantes. Voc√™ "empresta" dinheiro para bancos ou o governo e recebe juros por isso.
                    <ul class="list-disc list-inside ml-5 mt-1 text-slate-600">
                        <li><strong>CDB (Certificado de Dep√≥sito Banc√°rio):</strong> Voc√™ empresta dinheiro para um banco. Existem CDBs que pagam 100% ou mais do CDI (um √≠ndice de juros de mercado) e alguns com liquidez di√°ria.</li>
                        <li><strong>Tesouro Direto:</strong> Voc√™ empresta dinheiro para o governo. T√≠tulos como o <strong>Tesouro Selic</strong> s√£o excelentes para reserva de emerg√™ncia, pois t√™m liquidez di√°ria e seguem a taxa b√°sica de juros (Selic).</li>
                        <li><strong>LCI/LCA (Letras de Cr√©dito Imobili√°rio/Agroneg√≥cio):</strong> T√≠tulos emitidos por bancos para financiar setores espec√≠ficos. S√£o isentos de Imposto de Renda para pessoa f√≠sica.</li>
                    </ul>
                </li>
            </ul>
            <p class="mb-6 text-slate-700"><strong>Onde investir?</strong><br>Abra conta em uma corretora de investimentos (elas n√£o cobram taxas para esses produtos de renda fixa) ou use o banco digital onde voc√™ j√° tem conta, que geralmente oferece CDBs.</p>
            <p class="mb-6 text-slate-700"><strong>N√£o tenha pressa:</strong> Comece com pouco, entenda como funciona e, com o tempo, voc√™ pode buscar investimentos mais complexos.</p>

            <h2 class="text-2xl font-bold mb-4 text-emerald-600">Cap√≠tulo 5: Metas Financeiras: Onde Voc√™ Quer Chegar?</h2>
            <p class="mb-4 text-slate-700">Organizar suas finan√ßas √© importante, mas ter um <strong>prop√≥sito</strong> para isso √© o que te mant√©m motivado. Suas metas financeiras s√£o o destino no seu mapa.</p>

            <h3 class="text-xl font-bold mb-2">Definindo Metas SMART</h3>
            <p class="mb-3 text-slate-700">Para que suas metas sejam eficazes, elas devem ser SMART:</p>
            <ul class="list-disc list-inside mb-4 text-slate-700">
                <li><strong>S - Espec√≠ficas:</strong> O que exatamente voc√™ quer? "Quero uma viagem para a Europa", em vez de "Quero viajar".</li>
                <li><strong>M - Mensur√°veis:</strong> Como voc√™ vai saber que atingiu a meta? "R$ 10.000 para a viagem", em vez de "dinheiro para a viagem".</li>
                <li><strong>A - Ating√≠veis:</strong> √â realista para sua renda e tempo? Voc√™ consegue juntar R$10.000 em 1 ano com sua renda atual?</li>
                <li><strong>R - Relevantes:</strong> Por que essa meta √© importante para voc√™? O que ela representa em sua vida?</li>
                <li><strong>T - Temporiz√°veis:</strong> Quando voc√™ quer atingir essa meta? "Em 2 anos", "at√© dezembro de 2026".</li>
            </ul>

            <h3 class="text-xl font-bold mb-2">Metas de Curto, M√©dio e Longo Prazo</h3>
            <p class="mb-3 text-slate-700">Organize suas metas para ter foco em diferentes horizontes:</p>
            <ul class="list-disc list-inside mb-4 text-slate-700">
                <li><strong>Curto Prazo (at√© 1 ano):</strong>
                    <ul class="list-disc list-inside ml-5 mt-1 text-slate-600">
                        <li>Ex: Quitar a d√≠vida do cart√£o de cr√©dito.</li>
                        <li>Ex: Formar sua reserva de emerg√™ncia.</li>
                        <li>Ex: Comprar um celular novo √† vista.</li>
                    </ul>
                </li>
                <li class="mb-2"><strong>M√©dio Prazo (1 a 5 anos):</strong>
                    <ul class="list-disc list-inside ml-5 mt-1 text-slate-600">
                        <li>Ex: Dar entrada em um carro.</li>
                        <li>Ex: Fazer uma p√≥s-gradua√ß√£o.</li>
                        <li>Ex: Fazer uma viagem internacional.</li>
                    </ul>
                </li>
                <li class="mb-2"><strong>Longo Prazo (acima de 5 anos):</strong>
                    <ul class="list-disc list-inside ml-5 mt-1 text-slate-600">
                        <li>Ex: Comprar a casa pr√≥pria.</li>
                        <li>Ex: Planejar a aposentadoria.</li>
                        <li>Ex: Abrir um neg√≥cio.</li>
                    </ul>
                </li>
            </ul>

            <h3 class="text-xl font-bold mb-2">Como Manter a Motiva√ß√£o</h3>
            <ul class="list-disc list-inside mb-6 text-slate-700">
                <li><strong>Visualize:</strong> Imagine-se alcan√ßando suas metas.</li>
                <li><strong>Acompanhe o Progresso:</strong> Celebre cada pequena vit√≥ria (cada d√≠vida quitada, cada valor poupado).</li>
                <li><strong>Recompense-se:</strong> Ao atingir uma meta menor, d√™ a si mesmo uma pequena recompensa (que n√£o desfa√ßa seu progresso!).</li>
                <li><strong>Compartilhe (se quiser):</strong> Converse com algu√©m de confian√ßa sobre suas metas para ter um "parceiro" na jornada.</li>
                <li><strong>Seja Flex√≠vel:</strong> A vida acontece! Se algo sair do plano, ajuste suas metas e continue.</li>
            </ul>

            <h2 class="text-2xl font-bold mb-4 text-emerald-600">Cap√≠tulo 6: Dicas Extras para Acelerar Sua Jornada</h2>
            <p class="mb-4 text-slate-700">Chegamos ao final da sua semana de organiza√ß√£o. Parab√©ns pela dedica√ß√£o! Agora, vamos ver algumas dicas extras que podem acelerar sua jornada rumo √† liberdade financeira.</p>

            <h3 class="text-xl font-bold mb-2">Renda Extra: Ideias e Como Come√ßar</h3>
            <p class="mb-3 text-slate-700">Seu or√ßamento est√° apertado? Considere buscar uma fonte de renda extra. N√£o precisa ser algo grandioso no in√≠cio.</p>
            <ul class="list-disc list-inside mb-4 text-slate-700">
                <li><strong>Freelance:</strong> Ofere√ßa seus conhecimentos (escrita, design, programa√ß√£o, tradu√ß√£o, consultoria) em plataformas como Workana, 99Freelas.</li>
                <li><strong>Venda o que n√£o usa:</strong> Roupas, eletr√¥nicos, m√≥veis. Use OLX, Enjoei, Mercado Livre.</li>
                <li><strong>Servi√ßos Locais:</strong> Cuide de pets, d√™ aulas particulares, fa√ßa entregas.</li>
                <li><strong>Culin√°ria:</strong> Prepare e venda doces, salgados, marmitas saud√°veis.</li>
                <li><strong>Marketing de Afiliados:</strong> Promova produtos de outras pessoas e ganhe comiss√£o (como e-books de outros autores).</li>
            </ul>
            <p class="mb-6 text-slate-700"><strong>Lembre-se:</strong> A renda extra deve ser usada para acelerar a quita√ß√£o de d√≠vidas ou o ac√∫mulo da sua reserva de emerg√™ncia, n√£o para aumentar seus gastos.</p>

            <h3 class="text-xl font-bold mb-2">Consumo Consciente e Evitar Armadilhas</h3>
            <ul class="list-disc list-inside mb-4 text-slate-700">
                <li><strong>Pense antes de comprar:</strong> Pergunte-se: "Eu realmente preciso disso agora?".</li>
                <li><strong>Evite parcelar demais:</strong> Juros e parcelas comprometem sua renda futura.</li>
                <li><strong>Cuidado com promo√ß√µes:</strong> N√£o compre algo s√≥ porque est√° barato.</li>
                <li><strong>Leve sua pr√≥pria comida/caf√©:</strong> Pequenas economias di√°rias se somam em grandes valores no ano.</li>
                <li><strong>Desative notifica√ß√µes de lojas:</strong> Evite a tenta√ß√£o de compras por impulso.</li>
            </ul>

            <h3 class="text-xl font-bold mb-2">Import√¢ncia de Revisar o Or√ßamento Periodicamente</h3>
            <p class="mb-3 text-slate-700">Seu or√ßamento n√£o √© uma lei inquebr√°vel, √© um guia vivo!</p>
            <ul class="list-disc list-inside mb-6 text-slate-700">
                <li><strong>Revise-o mensalmente:</strong> Veja o que funcionou, o que n√£o funcionou.</li>
                <li><strong>Ajuste:</strong> Sua renda mudou? Teve um gasto inesperado? Adapte o plano.</li>
                <li><strong>Seja gentil consigo mesmo:</strong> Se um m√™s n√£o foi bom, n√£o desista. Analise, aprenda e recomece.</li>
            </ul>

            <h2 class="text-2xl font-bold mb-4 text-emerald-600">Conclus√£o: Sua Jornada Apenas Come√ßou!</h2>
            <p class="mb-4 text-slate-700">Parab√©ns! Em apenas 7 dias (ou no seu ritmo), voc√™ deu passos gigantes para organizar suas finan√ßas. Voc√™ aprendeu a:</p>
            <ul class="list-disc list-inside mb-4 text-slate-700">
                <li><strong>Entender para onde seu dinheiro vai:</strong> A clareza √© poder.</li>
                <li><strong>Criar um or√ßamento:</strong> Seu mapa para a liberdade.</li>
                <li><strong>Atacar as d√≠vidas:</strong> Libertando-se de pesos.</li>
                <li><strong>Poupar e come√ßar a investir:</strong> Construindo um futuro s√≥lido.</li>
                <li><strong>Definir metas:</strong> O combust√≠vel para sua jornada.</li>
            </ul>
            <p class="mb-4 text-slate-700">Lembre-se: o planejamento financeiro √© uma <strong>maratona, n√£o uma corrida de 100 metros</strong>. Haver√° altos e baixos, mas a consist√™ncia e a disciplina far√£o toda a diferen√ßa.</p>

            <p class="mb-6 text-slate-700"><strong>Transforme Teoria em Pr√°tica com a Ferramenta Interativa!</strong></p>
            <p class="mb-4 text-slate-700">Para que voc√™ possa aplicar tudo o que aprendeu de forma ainda mais pr√°tica e visual, criamos uma <strong>Ferramenta Interativa de Planejamento Financeiro</strong>. Com ela, voc√™ poder√°:</p>
            <ul class="list-disc list-inside mb-4 text-slate-700">
                <li>Registrar seus gastos e ver gr√°ficos da sua distribui√ß√£o.</li>
                <li>Organizar suas d√≠vidas com as estrat√©gias "Bola de Neve" ou "Avalancha".</li>
                <li>Calcular sua reserva de emerg√™ncia e definir suas metas financeiras de forma clara.</li>
            </ul>
            <p class="mb-6 text-slate-700">Acesse a ferramenta agora e comece a colocar seu planejamento em pr√°tica de forma din√¢mica!</p>

            <hr class="my-8 border-gray-300">

            <div style="text-align: center; margin-top: 30px; margin-bottom: 30px;">
                <a href="#ferramenta-interativa" 
                   class="inline-block py-3 px-6 bg-emerald-500 text-white 
                          text-decoration-none rounded-lg font-bold text-lg 
                          shadow-md hover:bg-emerald-600 transition duration-300">
                    Iniciar sua Ferramenta Interativa!
                </a>
            </div>

            <hr class="my-8 border-gray-300">

            <p class="mt-8 mb-2 text-slate-700"><strong>Recursos Adicionais:</strong></p>
            <ul class="list-disc list-inside mb-4 text-slate-700">
                <li><strong>Aplicativos sugeridos para controle financeiro:</strong> GuiaBolso, Mobills</li>
                <li><strong>Planilhas de or√ßamento gratuitas:</strong> Modelos do Google Sheets, ou procure por "planilha de or√ßamento pessoal gratuita"</li>
                <li><strong>Canais e sites de educa√ß√£o financeira:</strong> Me Poupe! (Nathalia Arcuri), Primo Rico (Thiago Nigro), Nath Finan√ßas</li>
            </ul>
            <p class="mb-6 text-slate-700"><strong>Deseja aprofundar seus conhecimentos em...?</strong> Fique atento(a) para futuros lan√ßamentos sobre investimentos avan√ßados ou ideias de renda extra para empreendedores digitais!</p>
        </section>

        <!-- Se√ß√£o da Ferramenta Interativa -->
        <section id="ferramenta-interativa" class="bg-white p-6 rounded-2xl shadow-lg">
            <header class="text-center mb-8">
                <h1 class="text-3xl md:text-4xl font-bold text-emerald-600">Ferramenta Interativa: Planejamento Financeiro</h1>
                <p class="mt-2 text-slate-600">Aplique os conceitos do e-book de forma pr√°tica e visualize seu progresso.</p>
            </header>

            <nav class="flex flex-wrap justify-center gap-2 md:gap-4 mb-8">
                <button data-target="passo1" class="nav-button active font-medium py-2 px-4 rounded-full border border-gray-200 bg-white">Passo 1: Or√ßamento</button>
                <button data-target="passo2" class="nav-button font-medium py-2 px-4 rounded-full border border-gray-200 bg-white">Passo 2: Plano de D√≠vidas</button>
                <button data-target="passo3" class="nav-button font-medium py-2 px-4 rounded-full border border-gray-200 bg-white">Passo 3: Metas e Futuro</button>
                <button data-target="passo4" class="nav-button font-medium py-2 px-4 rounded-full border border-gray-200 bg-white">Passo 4: Dicas Extras</button>
            </nav>

            <main>
                <!-- Se√ß√£o 1: Raio-X Financeiro e Or√ßamento -->
                <section id="passo1" class="content-section active">
                    <div class="bg-white p-6 rounded-2xl shadow-sm">
                        <h2 class="text-2xl font-bold mb-1 text-emerald-600">Passo 1: Raio-X Financeiro</h2>
                        <p class="text-slate-600 mb-6">O primeiro passo √© entender para onde seu dinheiro est√° indo. Preencha os campos abaixo para criar seu or√ßamento mensal e visualizar sua sa√∫de financeira.</p>
                        
                        <div class="grid md:grid-cols-2 gap-8 items-start">
                            <!-- Lado Esquerdo: Inputs -->
                            <div>
                                <div class="mb-4">
                                    <label for="income" class="block font-medium mb-1">Sua Renda Mensal L√≠quida (R$)</label>
                                    <input type="number" id="income" placeholder="Ex: 3000" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-400 focus:outline-none">
                                </div>

                                <div class="mb-4">
                                    <h3 class="font-bold text-lg mb-2">Adicionar Despesa</h3>
                                    <div class="grid sm:grid-cols-2 gap-2">
                                        <input type="text" id="expense-name" placeholder="Nome da despesa" class="p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-400 focus:outline-none">
                                        <input type="number" id="expense-amount" placeholder="Valor (R$)" class="p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-400 focus:outline-none">
                                        <select id="expense-category" class="col-span-2 sm:col-span-1 p-2 border border-gray-300 rounded-lg bg-white focus:ring-2 focus:ring-emerald-400 focus:outline-none">
                                            <option value="necessidades">Necessidades</option>
                                            <option value="desejos">Desejos</option>
                                            <option value="dividas">D√≠vidas</option>
                                        </select>
                                        <button id="add-expense" class="col-span-2 sm:col-span-1 bg-emerald-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-emerald-600 transition">Adicionar</button>
                                    </div>
                                </div>
                                
                                <div id="expense-list" class="space-y-2 mt-4 max-h-60 overflow-y-auto pr-2">
                                    <!-- Despesas ser√£o adicionadas aqui -->
                                </div>
                            </div>

                            <!-- Lado Direito: Visualiza√ß√£o -->
                            <div class="bg-stone-50 p-4 rounded-xl">
                                <h3 class="font-bold text-lg mb-4 text-center">Distribui√ß√£o de Gastos</h3>
                                <div class="chart-container">
                                    <canvas id="budgetChart"></canvas>
                                </div>
                                <div id="summary" class="text-center mt-4 font-semibold text-xl">
                                    Saldo: R$ 0,00
                                </div>
                                <div class="mt-4 pt-4 border-t">
                                    <h4 class="font-bold text-center mb-2">Comparativo: Voc√™ vs. Regra 50/30/20</h4>
                                    <div id="comparison-bars" class="space-y-2 text-sm">
                                        <!-- Barras de compara√ß√£o -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Se√ß√£o 2: Plano de D√≠vidas -->
                <section id="passo2" class="content-section">
                    <div class="bg-white p-6 rounded-2xl shadow-sm">
                        <h2 class="text-2xl font-bold mb-1 text-emerald-600">Passo 2: Monte seu Plano de D√≠vidas</h2>
                        <p class="text-slate-600 mb-6">Liste suas d√≠vidas e escolha uma estrat√©gia para quit√°-las. A ferramenta ir√° organizar a prioridade para voc√™ focar seus esfor√ßos.</p>
                        
                        <div class="grid md:grid-cols-2 gap-8">
                            <div>
                                <h3 class="font-bold text-lg mb-2">Adicionar D√≠vida</h3>
                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 mb-4 p-4 bg-stone-50 rounded-lg">
                                    <input type="text" id="debt-name" placeholder="Nome da d√≠vida" class="sm:col-span-2 p-2 border rounded-lg">
                                    <input type="number" id="debt-total" placeholder="Valor Total (R$)" class="p-2 border rounded-lg">
                                    <input type="number" id="debt-rate" placeholder="Juros (% a.m.)" class="p-2 border rounded-lg">
                                    <button id="add-debt" class="sm:col-span-2 bg-emerald-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-emerald-600 transition">Adicionar D√≠vida</button>
                                </div>
                                <div class="mt-4">
                                    <h3 class="font-bold text-lg mb-2">Escolha sua Estrat√©gia</h3>
                                    <div class="flex gap-2 mb-4">
                                        <button id="snowball-btn" class="flex-1 bg-emerald-200 text-emerald-800 p-2 rounded-lg font-medium">Bola de Neve</button>
                                        <button id="avalanche-btn" class="flex-1 bg-gray-200 p-2 rounded-lg font-medium">Avalancha</button>
                                    </div>
                                    <p id="strategy-explanation" class="text-sm text-slate-600 p-3 bg-blue-50 rounded-lg"><b>M√©todo Bola de Neve:</b> Pague as d√≠vidas da menor para a maior. Ideal para ganhar motiva√ß√£o r√°pida.</p>
                                </div>
                            </div>
                        
                            <div>
                                <h3 class="font-bold text-lg mb-2">Sua Lista de Prioridades</h3>
                                <div id="debt-list" class="bg-stone-50 rounded-lg p-2 min-h-[200px]">
                                    <!-- D√≠vidas listadas aqui -->
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Se√ß√£o 3: Metas e Futuro -->
                <section id="passo3" class="content-section">
                    <div class="bg-white p-6 rounded-2xl shadow-sm">
                        <h2 class="text-2xl font-bold mb-1 text-emerald-600">Passo 3: Construindo seu Futuro</h2>
                        <p class="text-slate-600 mb-6">Defina suas metas e entenda os primeiros passos para poupar e investir. Ter um prop√≥sito claro √© o que mant√©m a motiva√ß√£o.</p>
                        
                        <div class="grid md:grid-cols-2 gap-8">
                            <!-- Calculadora Reserva -->
                            <div class="bg-stone-50 p-6 rounded-xl">
                                <h3 class="font-bold text-lg mb-2">Calculadora de Reserva de Emerg√™ncia</h3>
                                <p class="text-sm text-slate-600 mb-4">Sua reserva deve cobrir de 3 a 6 meses de seus custos essenciais.</p>
                                <label for="essential-costs" class="block font-medium mb-1">Seu Custo de Vida Essencial Mensal (R$)</label>
                                <input type="number" id="essential-costs" placeholder="Ex: 1500" class="w-full p-2 border rounded-lg mb-4">
                                <div id="emergency-fund-result" class="text-center bg-emerald-100 text-emerald-800 p-4 rounded-lg">
                                    <p class="font-bold">Sua meta de reserva √©:</p>
                                    <p class="text-2xl font-bold">R$ 0,00 - R$ 0,00</p>
                                </div>
                            </div>

                            <!-- Metas SMART -->
                            <div class="bg-stone-50 p-6 rounded-xl">
                                <h3 class="font-bold text-lg mb-2">Defina Suas Metas (SMART)</h3>
                                <p class="text-sm text-slate-600 mb-4">Metas devem ser Espec√≠ficas, Mensur√°veis, Ating√≠veis, Relevantes e com Prazo.</p>
                                <div class="space-y-2">
                                    <input type="text" id="goal-name" placeholder="Ex: Viagem para a praia" class="w-full p-2 border rounded-lg">
                                    <input type="number" id="goal-amount" placeholder="Valor: R$ 3000" class="w-full p-2 border rounded-lg">
                                    <button id="add-goal" class="w-full bg-emerald-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-emerald-600 transition">Adicionar Meta</button>
                                </div>
                                <div id="goal-list" class="mt-4 space-y-2"></div>
                            </div>
                        </div>

                        <div class="mt-8">
                            <h3 class="text-xl font-bold text-center mb-4">Primeiros Passos para Investir</h3>
                            <div class="grid sm:grid-cols-1 md:grid-cols-3 gap-4">
                                <div class="bg-blue-50 p-4 rounded-lg">
                                    <h4 class="font-bold">Tesouro Selic</h4>
                                    <p class="text-sm text-slate-600">Ideal para reserva de emerg√™ncia. Seguro e acompanha a taxa b√°sica de juros.</p>
                                </div>
                                <div class="bg-green-50 p-4 rounded-lg">
                                    <h4 class="font-bold">CDB de Liquidez Di√°ria</h4>
                                    <p class="text-sm text-slate-600">Outra √≥tima op√ß√£o para reserva. Voc√™ empresta dinheiro para um banco e pode resgatar a qualquer momento.</p>
                                </div>
                                <div class="bg-purple-50 p-4 rounded-lg">
                                    <h4 class="font-bold">LCI / LCA</h4>
                                    <p class="text-sm text-slate-600">Investimentos isentos de Imposto de Renda, geralmente com prazos um pouco maiores. Bom para metas de m√©dio prazo.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Se√ß√£o 4: Dicas Extras -->
                <section id="passo4" class="content-section">
                    <div class="bg-white p-6 rounded-2xl shadow-sm">
                        <h2 class="text-2xl font-bold mb-1 text-emerald-600">Passo 4: Dicas Extras para Acelerar</h2>
                        <p class="text-slate-600 mb-6">Pequenas atitudes e ideias que podem fazer uma grande diferen√ßa na sua jornada financeira.</p>
                        
                        <div class="space-y-6">
                            <div>
                                <h3 class="text-xl font-bold mb-2">üí° Consumo Consciente</h3>
                                <ul class="list-disc list-inside space-y-1 text-slate-700">
                                    <li><strong>Pense antes de comprar:</strong> Pergunte-se: "Eu realmente preciso disso agora?".</li>
                                    <li><strong>Evite parcelar demais:</strong> Juros e parcelas comprometem sua renda futura.</li>
                                    <li><strong>Cuidado com promo√ß√µes:</strong> N√£o compre algo s√≥ porque est√° barato.</li>
                                    <li><strong>Leve sua pr√≥pria comida/caf√©:</strong> Pequenas economias di√°rias viram uma fortuna no ano.</li>
                                </ul>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold mb-2">üöÄ Renda Extra</h3>
                                <ul class="list-disc list-inside space-y-1 text-slate-700">
                                    <li><strong>Freelance:</strong> Ofere√ßa suas habilidades online (escrita, design, programa√ß√£o, tradu√ß√£o, consultoria).</li>
                                    <li><strong>Venda o que n√£o usa:</strong> Libere espa√ßo e ganhe dinheiro.</li>
                                    <li><strong>Servi√ßos locais:</strong> Cuide de pets, d√™ aulas particulares.</li>
                                    <li><strong>Culin√°ria:</strong> Prepare e venda doces, salgados ou marmitas.</li>
                                </ul>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold mb-2">üîÑ Revise Sempre</h3>
                                <ul class="list-disc list-inside space-y-1 text-slate-700">
                                    <li><strong>Seu or√ßamento √© um guia vivo:</strong> Revise-o mensalmente para ver o que funcionou.</li>
                                    <li><strong>Ajuste conforme a vida muda:</strong> Sua renda aumentou? Teve um gasto inesperado? Adapte o plano.</li>
                                    <li><strong>Seja gentil consigo mesmo:</strong> Se um m√™s n√£o foi bom, n√£o desista. Analise, aprenda e recomece.</li>
                                </ul>
                            </div>
                            <div class="mt-6 pt-6 border-t border-gray-200 text-center">
                                <button id="reset-data-btn" class="bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600 transition">Reiniciar Todos os Dados</button>
                                <p class="text-sm text-slate-500 mt-2">Isso apagar√° todas as informa√ß√µes salvas nesta ferramenta.</p>
                            </div>
                        </div>
                    </div>
                </section>
            </main>

            <footer class="text-center mt-12 text-sm text-slate-500">
                <p>Ferramenta interativa para te ajudar a conquistar sua liberdade financeira.</p>
            </footer>
        </section>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Gerenciamento de Estado
            const state = {
                income: 0,
                expenses: [],
                debts: [],
                goals: [],
                activeSection: 'passo1', // Se√ß√£o ativa padr√£o
                debtStrategy: 'snowball', // Estrat√©gia de d√≠vida padr√£o
                essentialCosts: 0, // Novo: custo essencial para c√°lculo da reserva
            };

            // Carregar estado salvo do localStorage
            const savedState = localStorage.getItem('financasAppState');
            if (savedState) {
                try {
                    const parsedState = JSON.parse(savedState);
                    // Atribuir valores carregados com fallbacks seguros
                    state.income = parsedState.income !== undefined ? parsedState.income : 0;
                    state.expenses = Array.isArray(parsedState.expenses) ? parsedState.expenses : [];
                    state.debts = Array.isArray(parsedState.debts) ? parsedState.debts : [];
                    state.goals = Array.isArray(parsedState.goals) ? parsedState.goals : [];
                    state.activeSection = parsedState.activeSection || 'passo1';
                    state.debtStrategy = parsedState.debtStrategy || 'snowball';
                    state.essentialCosts = parsedState.essentialCosts !== undefined ? parsedState.essentialCosts : 0;
                } catch (e) {
                    console.error("Erro ao carregar dados do localStorage:", e);
                    // Se a an√°lise falhar, o estado permanece o padr√£o inicializado
                }
            }

            // Inst√¢ncia do Gr√°fico
            let budgetChart;

            // Elementos do DOM
            const navButtons = document.querySelectorAll('.nav-button');
            const contentSections = document.querySelectorAll('.content-section');
            const incomeInput = document.getElementById('income');
            const addExpenseBtn = document.getElementById('add-expense');
            const expenseNameInput = document.getElementById('expense-name');
            const expenseAmountInput = document.getElementById('expense-amount');
            const expenseCategoryInput = document.getElementById('expense-category');
            const expenseList = document.getElementById('expense-list');
            const summaryEl = document.getElementById('summary');
            const comparisonBarsEl = document.getElementById('comparison-bars');
            
            const addDebtBtn = document.getElementById('add-debt');
            const debtNameInput = document.getElementById('debt-name');
            const debtTotalInput = document.getElementById('debt-total');
            const debtRateInput = document.getElementById('debt-rate');
            const debtListEl = document.getElementById('debt-list');
            const snowballBtn = document.getElementById('snowball-btn');
            const avalancheBtn = document.getElementById('avalanche-btn');
            const strategyExplanationEl = document.getElementById('strategy-explanation');

            const essentialCostsInput = document.getElementById('essential-costs');
            const emergencyFundResultEl = document.getElementById('emergency-fund-result');

            const addGoalBtn = document.getElementById('add-goal');
            const goalNameInput = document.getElementById('goal-name');
            const goalAmountInput = document.getElementById('goal-amount');
            const goalListEl = document.getElementById('goal-list');

            const resetDataBtn = document.getElementById('reset-data-btn'); // Novo bot√£o

            // Fun√ß√£o para Salvar o Estado
            const saveState = () => {
                localStorage.setItem('financasAppState', JSON.stringify(state));
            };

            // Fun√ß√µes de Renderiza√ß√£o
            const renderExpenses = () => {
                expenseList.innerHTML = '';
                if (state.expenses.length === 0) {
                    expenseList.innerHTML = '<p class="text-slate-400 text-center">Nenhuma despesa adicionada.</p>';
                } else {
                    state.expenses.forEach((exp, index) => {
                        const expEl = document.createElement('div');
                        expEl.className = 'flex justify-between items-center bg-gray-100 p-2 rounded-lg text-sm';
                        expEl.innerHTML = `
                            <span>${exp.name} (${exp.category})</span>
                            <div class="flex items-center gap-2">
                                <span class="font-medium">R$ ${exp.amount.toFixed(2)}</span>
                                <button data-index="${index}" class="remove-expense text-red-500 hover:text-red-700 text-lg">&times;</button>
                            </div>
                        `;
                        expenseList.appendChild(expEl);
                    });
                }
            };

            const renderChartAndSummary = () => {
                const totals = {
                    necessidades: 0,
                    desejos: 0,
                    dividas: 0,
                };
                let totalExpenses = 0;
                state.expenses.forEach(exp => {
                    totals[exp.category] += exp.amount;
                    totalExpenses += exp.amount;
                });

                const balance = state.income - totalExpenses;
                summaryEl.textContent = `Saldo: R$ ${balance.toFixed(2)}`;
                summaryEl.classList.toggle('text-red-500', balance < 0);
                summaryEl.classList.toggle('text-green-600', balance >= 0);

                // Atualizar Gr√°fico
                if (!budgetChart) {
                    const ctx = document.getElementById('budgetChart').getContext('2d');
                    budgetChart = new Chart(ctx, {
                        type: 'doughnut',
                        data: {
                            labels: ['Necessidades', 'Desejos', 'D√≠vidas'],
                            datasets: [{
                                data: [totals.necessidades, totals.desejos, totals.dividas],
                                backgroundColor: ['#34D399', '#FBBF24', '#F87171'],
                                borderWidth: 0,
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: { position: 'bottom' },
                            },
                            cutout: '60%'
                        }
                    });
                } else {
                    budgetChart.data.datasets[0].data = [totals.necessidades, totals.desejos, totals.dividas];
                    budgetChart.update();
                }
                
                // Atualizar Barras de Compara√ß√£o
                comparisonBarsEl.innerHTML = '';
                const income = state.income > 0 ? state.income : 1;
                const percentages = {
                    necessidades: (totals.necessidades / income) * 100,
                    desejos: (totals.desejos / income) * 100,
                    poupanca: (balance > 0 ? balance / income : 0) * 100,
                };

                const createBar = (label, userPercent, targetPercent, color) => {
                    const barHtml = `
                        <div class="mb-2">
                            <div class="flex justify-between mb-1">
                                <span>${label}</span>
                                <span>${userPercent.toFixed(1)}% (Meta: ${targetPercent}%)</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2.5">
                                <div class="h-2.5 rounded-full" style="width: ${Math.min(userPercent, 100)}%; background-color: ${color};"></div>
                            </div>
                        </div>
                    `;
                    comparisonBarsEl.innerHTML += barHtml;
                }

                createBar('Necessidades', percentages.necessidades, 50, '#34D399');
                createBar('Desejos', percentages.desejos, 30, '#FBBF24');
                createBar('Poupan√ßa/Saldo', percentages.poupanca, 20, '#60A5FA');
            };
            
            const renderDebts = () => {
                debtListEl.innerHTML = '';
                 if (state.debts.length === 0) {
                    debtListEl.innerHTML = '<p class="text-slate-400 text-center p-4">Nenhuma d√≠vida adicionada.</p>';
                    return;
                }

                let sortedDebts = [...state.debts];
                if (state.debtStrategy === 'snowball') {
                    sortedDebts.sort((a, b) => a.total - b.total);
                } else { // avalanche
                    sortedDebts.sort((a, b) => b.rate - a.rate);
                }

                sortedDebts.forEach((debt, index) => {
                    const debtEl = document.createElement('div');
                    debtEl.className = 'debt-item flex justify-between items-center p-3';
                    if (index === 0) debtEl.classList.add('bg-emerald-100', 'rounded-lg');
                    
                    debtEl.innerHTML = `
                        <div>
                            <p class="font-bold">${index + 1}. ${debt.name}</p>
                            <p class="text-sm text-slate-600">Total: R$ ${debt.total.toFixed(2)} | Juros: ${debt.rate}% a.m.</p>
                        </div>
                        <button data-id="${debt.id}" class="remove-debt text-red-500 hover:text-red-700 text-lg">&times;</button>
                    `;
                    debtListEl.appendChild(debtEl);
                });
            };

            const renderEmergencyFundResult = () => {
                const costs = state.essentialCosts;
                const minFund = costs * 3;
                const maxFund = costs * 6;
                emergencyFundResultEl.innerHTML = `
                    <p class="font-bold">Sua meta de reserva √©:</p>
                    <p class="text-2xl font-bold">R$ ${minFund.toFixed(2)} - R$ ${maxFund.toFixed(2)}</p>
                `;
            };

            const renderGoals = () => {
                goalListEl.innerHTML = '';
                if(state.goals.length === 0) {
                     goalListEl.innerHTML = '<p class="text-slate-400 text-center">Nenhuma meta adicionada.</p>';
                } else {
                    state.goals.forEach(goal => {
                        const goalEl = document.createElement('div');
                        goalEl.className = 'bg-gray-100 p-3 rounded-lg flex justify-between items-center';
                        goalEl.innerHTML = `
                            <span>${goal.name} - <strong>R$ ${goal.amount.toFixed(2)}</strong></span>
                            <button data-id="${goal.id}" class="remove-goal text-red-500 hover:text-red-700 text-lg">&times;</button>
                        `;
                        goalListEl.appendChild(goalEl);
                    });
                }
            };

            // Fun√ß√£o de Atualiza√ß√£o Completa do UI
            const updateAll = () => {
                renderExpenses();
                renderChartAndSummary();
                renderDebts();
                renderEmergencyFundResult(); // Chamar aqui para atualizar com base no state.essentialCosts
                renderGoals();

                // Atualizar campos de input com o estado carregado
                incomeInput.value = state.income;
                essentialCostsInput.value = state.essentialCosts;

                // Definir bot√£o de navega√ß√£o e se√ß√£o ativa
                navButtons.forEach(btn => btn.classList.remove('active'));
                const activeButton = document.querySelector(`.nav-button[data-target="${state.activeSection}"]`);
                if (activeButton) {
                    activeButton.classList.add('active');
                }
                contentSections.forEach(section => {
                    section.classList.toggle('active', section.id === state.activeSection);
                });

                // Atualizar estado dos bot√µes de estrat√©gia de d√≠vida
                if (state.debtStrategy === 'snowball') {
                    snowballBtn.classList.add('bg-emerald-200', 'text-emerald-800');
                    snowballBtn.classList.remove('bg-gray-200');
                    avalancheBtn.classList.add('bg-gray-200');
                    avalancheBtn.classList.remove('bg-emerald-200', 'text-emerald-800');
                    strategyExplanationEl.innerHTML = "<b>M√©todo Bola de Neve:</b> Pague as d√≠vidas da menor para a maior. Ideal para ganhar motiva√ß√£o r√°pida.";
                } else {
                    avalancheBtn.classList.add('bg-emerald-200', 'text-emerald-800');
                    avalancheBtn.classList.remove('bg-gray-200');
                    snowballBtn.classList.add('bg-gray-200');
                    snowballBtn.classList.remove('bg-emerald-200', 'text-emerald-800');
                    strategyExplanationEl.innerHTML = "<b>M√©todo Avalancha:</b> Pague as d√≠vidas com maiores juros primeiro. Ideal para economizar mais dinheiro.";
                }
            };

            // Listeners de Eventos
            navButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const target = button.dataset.target;
                    state.activeSection = target;
                    saveState(); // Salvar a se√ß√£o ativa
                    updateAll(); // Atualizar UI
                });
            });

            incomeInput.addEventListener('input', (e) => {
                state.income = parseFloat(e.target.value) || 0;
                saveState(); // Salvar ap√≥s mudan√ßa no estado
                renderChartAndSummary(); // Atualizar UI
            });

            addExpenseBtn.addEventListener('click', () => {
                const name = expenseNameInput.value.trim();
                const amount = parseFloat(expenseAmountInput.value);
                const category = expenseCategoryInput.value;

                if (name && amount > 0) {
                    state.expenses.push({ name, amount, category });
                    expenseNameInput.value = '';
                    expenseAmountInput.value = '';
                    saveState(); // Salvar ap√≥s mudan√ßa no estado
                    updateAll(); // Atualizar UI
                }
            });

            expenseList.addEventListener('click', (e) => {
                if (e.target.classList.contains('remove-expense')) {
                    const index = parseInt(e.target.dataset.index);
                    state.expenses.splice(index, 1);
                    saveState(); // Salvar ap√≥s mudan√ßa no estado
                    updateAll(); // Atualizar UI
                }
            });
            
            addDebtBtn.addEventListener('click', () => {
                const name = debtNameInput.value.trim();
                const total = parseFloat(debtTotalInput.value);
                const rate = parseFloat(debtRateInput.value);
                if (name && total > 0 && rate >= 0) {
                    state.debts.push({ id: Date.now(), name, total, rate });
                    debtNameInput.value = '';
                    debtTotalInput.value = '';
                    debtRateInput.value = '';
                    saveState(); // Salvar ap√≥s mudan√ßa no estado
                    renderDebts(); // Atualizar UI
                }
            });

            debtListEl.addEventListener('click', e => {
                if(e.target.classList.contains('remove-debt')) {
                    const id = parseInt(e.target.dataset.id);
                    state.debts = state.debts.filter(d => d.id !== id);
                    saveState(); // Salvar ap√≥s mudan√ßa no estado
                    renderDebts(); // Atualizar UI
                }
            });

            snowballBtn.addEventListener('click', () => {
                state.debtStrategy = 'snowball';
                saveState(); // Salvar ap√≥s mudan√ßa no estado
                updateAll(); // Atualizar UI (que j√° cont√©m a l√≥gica de bot√µes e explica√ß√£o)
            });

            avalancheBtn.addEventListener('click', () => {
                state.debtStrategy = 'avalanche';
                saveState(); // Salvar ap√≥s mudan√ßa no estado
                updateAll(); // Atualizar UI
            });

            essentialCostsInput.addEventListener('input', (e) => {
                state.essentialCosts = parseFloat(e.target.value) || 0;
                saveState(); // Salvar ap√≥s mudan√ßa no estado
                renderEmergencyFundResult(); // Atualizar UI
            });
            
            addGoalBtn.addEventListener('click', () => {
                const name = goalNameInput.value.trim();
                const amount = parseFloat(goalAmountInput.value);
                if(name && amount > 0) {
                    state.goals.push({ id: Date.now(), name, amount });
                    goalNameInput.value = '';
                    goalAmountInput.value = '';
                    saveState(); // Salvar ap√≥s mudan√ßa no estado
                    renderGoals(); // Atualizar UI
                }
            });

            goalListEl.addEventListener('click', e => {
                 if(e.target.classList.contains('remove-goal')) {
                    const id = parseInt(e.target.dataset.id);
                    state.goals = state.goals.filter(g => g.id !== id);
                    saveState(); // Salvar ap√≥s mudan√ßa no estado
                    renderGoals(); // Atualizar UI
                }
            });

            // Novo: Reiniciar Dados
            resetDataBtn.addEventListener('click', () => {
                if (confirm("Tem certeza que deseja reiniciar todos os dados? Esta a√ß√£o n√£o pode ser desfeita.")) {
                    localStorage.removeItem('financasAppState'); // Limpa o localStorage
                    // Reinicializar o estado para valores padr√£o
                    state.income = 0;
                    state.expenses = [];
                    state.debts = [];
                    state.goals = [];
                    state.activeSection = 'passo1';
                    state.debtStrategy = 'snowball';
                    state.essentialCosts = 0;
                    updateAll(); // Atualizar UI para mostrar os dados zerados
                }
            });

            // Renderiza√ß√£o Inicial com o estado carregado ou padr√£o
            updateAll();
        });
    </script>
</body>
</html>
